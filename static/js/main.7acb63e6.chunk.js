(this["webpackJsonpstock-market"]=this["webpackJsonpstock-market"]||[]).push([[0],{18:function(e,t,a){e.exports=a(32)},28:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(2),r=a.n(o),s=a(3),l=(a(28),a(11)),i=a(12),u=a(17),m=a(15),d=a(13),p=a.n(d),k=a(16),v=a(1),E=a(14),h=(a(30),a(7)),f={stocks:[]},w=Object(v.c)({stock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STOCK":return Object(h.a)(Object(h.a)({},e),{},{stocks:t.stocks});default:return e}}}),b=[E.a];var g=Object(v.d)(w,{},v.a.apply(void 0,b)),y=(a(31),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).renderStocks=function(){var t=e.props.stocks;return console.log("stocks: ",t),t.map((function(e,t){return c.a.createElement("tr",{key:e.name+t,className:e.gain?e.gain>0?"stock-gain":"stock-loss":""},c.a.createElement("th",{scope:"row"},t+1),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.price),c.a.createElement("td",null,p()(e.updated_at).fromNow()))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.initializeSocket()}},{key:"initializeSocket",value:function(){var e=new WebSocket("ws://stocks.mnet.website");e.addEventListener("message",this.props.updateStockMarket),e.addEventListener("error",(function(e){console.log("Something went wrong",e)}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"py-3"},c.a.createElement("h2",null,"Stock Market App(Live)"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"py-5"},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),c.a.createElement("th",{scope:"col"},"Ticker"),c.a.createElement("th",{scope:"col"},"Price"),c.a.createElement("th",{scope:"col"},"Last Updated"))),c.a.createElement("tbody",null,this.renderStocks())))))))}}]),a}(n.Component)),S=Object(s.b)((function(e){return{stocks:e.stock.stocks}}),{updateStockMarket:function(e){return function(t){var a=g.getState().stock.stocks.slice();JSON.parse(e.data).forEach((function(e){var t=Object(k.a)(e,2),n=t[0],c=t[1],o=a.findIndex((function(e){return e.name===n}));-1!==o?(a[o].gain=a[o].price-c,a[o].price=c,a[o].name=n,a[o].updated_at=Date.now()):a.push({name:n,price:c,created_at:Date.now(),updated_at:Date.now()})})),t({type:"UPDATE_STOCK",stocks:a})}}})(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:g},c.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.7acb63e6.chunk.js.map